<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Prototype Pattern Demo with Login</title>
  <style>
    body {
      font-family: Arial, sans-serif; background:#f5f7fa; padding:20px;
      display:flex; justify-content:center; align-items:center; height:100vh;
    }
    .box {
      background:#fff; padding:20px; border-radius:8px;
      box-shadow:0 2px 8px rgba(0,0,0,0.15); width:420px;
    }
    h2, h3 { margin-top:0; text-align:center; }
    label { display:block; margin-top:10px; font-size:14px; }
    input, select {
      width:100%; padding:8px; margin-top:4px;
      border:1px solid #ccc; border-radius:6px;
    }
    button {
      margin-top:14px; padding:10px; width:100%;
      border:0; border-radius:6px; cursor:pointer;
      background:#007bff; color:white; font-weight:bold;
    }
    .hidden { display:none; }
    .result {
      margin-top:14px; background:#f0f4ff; padding:10px;
      border-radius:6px; font-size:14px; white-space:pre-line;
    }
    .error { color:red; font-size:13px; margin-top:6px; text-align:center; }
    .tabs { display:flex; justify-content:space-around; margin-bottom:12px; }
    .tabs button {
      width:auto; flex:1; margin:0 4px; padding:8px;
      background:#eee; color:#333;
    }
    .tabs button.active { background:#007bff; color:white; }
  </style>
</head>
<body>
  <!-- Login Box -->
  <div class="box" id="loginBox">
    <h2>üîê Login</h2>
    <label>Username</label>
    <input id="username" type="text" placeholder="Enter username">
    <label>Password</label>
    <input id="password" type="password" placeholder="Enter password">
    <button id="loginBtn">Login</button>
    <div id="loginError" class="error"></div>
  </div>

  <!-- Main Box After Login -->
  <div class="box hidden" id="mainBox">
    <h2>Prototype Pattern Demo</h2>
    <div class="tabs">
      <button data-tab="food" class="active">üçï Food</button>
      <button data-tab="bank">üè¶ Banking</button>
      <button data-tab="shop">üõí E-commerce</button>
      <button data-tab="ride">üöñ Ride</button>
    </div>

    <!-- Food Section -->
    <div class="tab" id="food">
      <h3>üçï Clone Food Order</h3>
      <label>Choose Template Order:</label>
      <select id="foodTemplate">
        <option value="0">Pizza Hut ‚Äî 2x Veggie Pizza</option>
        <option value="1">Domino's ‚Äî 1x Cheese Burst</option>
        <option value="2">Burger King ‚Äî 3x Whopper</option>
      </select>
      <label>Quantity</label>
      <input id="foodQty" type="number" min="1" value="1">
      <label>Delivery Address</label>
      <input id="foodAddr" type="text" placeholder="Enter delivery address">
      <button onclick="cloneFood()">Clone Order</button>
      <div class="result" id="foodResult">No clone yet.</div>
    </div>

    <!-- Banking Section -->
    <div class="tab hidden" id="bank">
      <h3>üè¶ Clone Investment Plan</h3>
      <label>Choose Template Plan:</label>
      <select id="bankTemplate">
        <option value="0">Retirement Plan ‚Äî 20 yrs, 8% interest</option>
        <option value="1">Child Education Plan ‚Äî 10 yrs, 7% interest</option>
      </select>
      <label>Investment Amount</label>
      <input id="bankAmount" type="number" value="50000">
      <button onclick="cloneBank()">Clone Plan</button>
      <div class="result" id="bankResult">No clone yet.</div>
    </div>

    <!-- E-commerce Section -->
    <div class="tab hidden" id="shop">
      <h3>üõí Clone Product</h3>
      <label>Choose Template Product:</label>
      <select id="shopTemplate">
        <option value="0">T-shirt (M, Blue)</option>
        <option value="1">Sneakers (Size 9, White)</option>
      </select>
      <label>New Size/Variant</label>
      <input id="shopVariant" type="text" placeholder="Enter new size or color">
      <button onclick="cloneShop()">Clone Product</button>
      <div class="result" id="shopResult">No clone yet.</div>
    </div>

    <!-- Ride Section -->
    <div class="tab hidden" id="ride">
      <h3>üöñ Clone Ride Preferences</h3>
      <label>Choose Template Ride:</label>
      <select id="rideTemplate">
        <option value="0">Home ‚Üí Office, Car, Paytm</option>
        <option value="1">Hostel ‚Üí Gym, Bike, Cash</option>
      </select>
      <label>Pickup Address</label>
      <input id="ridePickup" type="text" placeholder="Enter pickup address">
      <button onclick="cloneRide()">Clone Ride</button>
      <div class="result" id="rideResult">No clone yet.</div>
    </div>
  </div>

  <script>
    // ------------ LOGIN -------------
    document.getElementById("loginBtn").addEventListener("click", () => {
      const user = document.getElementById("username").value.trim();
      const pass = document.getElementById("password").value.trim();
      if(user === "shivaharsha" && pass === "order123") {
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("mainBox").classList.remove("hidden");
      } else {
        document.getElementById("loginError").textContent = "‚ùå Invalid credentials";
      }
    });

    // ------------ TABS -------------
    const tabs = document.querySelectorAll(".tabs button");
    tabs.forEach(btn => {
      btn.addEventListener("click", () => {
        tabs.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        document.querySelectorAll(".tab").forEach(div=>div.classList.add("hidden"));
        document.getElementById(btn.dataset.tab).classList.remove("hidden");
      });
    });

    // ------------ CLASSES (Prototypes) -------------
    class FoodOrder {
      constructor(rest, item, qty, addr) { this.rest=rest; this.item=item; this.qty=qty; this.addr=addr; }
      clone(){ return new FoodOrder(this.rest,this.item,this.qty,this.addr); }
      toString(){ return ${this.rest}: ${this.qty} x ${this.item} | Deliver to: ${this.addr}; }
    }
    class InvestmentPlan {
      constructor(name, yrs, rate, amt){ this.name=name; this.yrs=yrs; this.rate=rate; this.amt=amt; }
      clone(){ return new InvestmentPlan(this.name,this.yrs,this.rate,this.amt); }
      toString(){ return ${this.name}: ${this.yrs} yrs @ ${this.rate}% | Amount: ‚Çπ${this.amt}; }
    }
    class Product {
      constructor(name, variant){ this.name=name; this.variant=variant; }
      clone(){ return new Product(this.name,this.variant); }
      toString(){ return ${this.name} (${this.variant}); }
    }
    class RidePref {
      constructor(pick, drop, vehicle, pay){ this.pick=pick; this.drop=drop; this.vehicle=vehicle; this.pay=pay; }
      clone(){ return new RidePref(this.pick,this.drop,this.vehicle,this.pay); }
      toString(){ return ${this.pick} ‚Üí ${this.drop}, ${this.vehicle}, Pay: ${this.pay}; }
    }

    // ------------ Templates -------------
    const foodTemplates = [
      new FoodOrder("Pizza Hut","Veggie Pizza",2,"MG Road"),
      new FoodOrder("Domino's","Cheese Burst",1,"Park Street"),
      new FoodOrder("Burger King","Whopper",3,"Station Road"),
    ];
    const bankTemplates = [
      new InvestmentPlan("Retirement Plan",20,8,100000),
      new InvestmentPlan("Child Education Plan",10,7,75000),
    ];
    const shopTemplates = [
      new Product("T-shirt","M, Blue"),
      new Product("Sneakers","Size 9, White"),
    ];
    const rideTemplates = [
      new RidePref("Home","Office","Car","Paytm"),
      new RidePref("Hostel","Gym","Bike","Cash"),
    ];

    // ------------ Clone Functions -------------
    function cloneFood(){
      const idx=document.getElementById("foodTemplate").value;
      const qty=document.getElementById("foodQty").value;
      const addr=document.getElementById("foodAddr").value||foodTemplates[idx].addr;
      const original=foodTemplates[idx]; const c=original.clone();
      c.qty=qty; c.addr=addr;
      document.getElementById("foodResult").textContent=
        ‚úÖ Clone: ${c.toString()}\nüü¶ Original: ${original.toString()};
    }
    function cloneBank(){
      const idx=document.getElementById("bankTemplate").value;
      const amt=document.getElementById("bankAmount").value;
      const original=bankTemplates[idx]; const c=original.clone();
      c.amt=amt;
      document.getElementById("bankResult").textContent=
        ‚úÖ Clone: ${c.toString()}\nüü¶ Original: ${original.toString()};
    }
    function cloneShop(){
      const idx=document.getElementById("shopTemplate").value;
      const variant=document.getElementById("shopVariant").value||shopTemplates[idx].variant;
      const original=shopTemplates[idx]; const c=original.clone();
      c.variant=variant;
      document.getElementById("shopResult").textContent=
        ‚úÖ Clone: ${c.toString()}\nüü¶ Original: ${original.toString()};
    }
    function cloneRide(){
      const idx=document.getElementById("rideTemplate").value;
      const pickup=document.getElementById("ridePickup").value||rideTemplates[idx].pick;
      const original=rideTemplates[idx]; const c=original.clone();
      c.pick=pickup;
      document.getElementById("rideResult").textContent=
        ‚úÖ Clone: ${c.toString()}\nüü¶ Original: ${original.toString()};
    }
  </script>
</body>
</html>
